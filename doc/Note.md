# Demo纪要(Python 3.12.7-64bit)

### Step1 摄像头捕捉demo

#### 1.OpenCV - harr 基础实现人脸识别

    速度快 但对侧脸 遮挡 光线昏暗 鲁棒性较差

#### 2.OpenCV - dlib  机器学习实现人脸识别

    对姿态变化、轻微遮挡的适应性更强

#### 3.实现摄像头实时 人脸追踪

#### 4.通过 IP摄像头 以网络视频流的形式 调用手机摄像头(2025.9.16 22:00)

### Step2 实现神经风格迁移

#### 1.pytorch 使用卷积神经网络

    提取''内容图像''的内容 语意 信息

    提取 ''风格图像'' 的''纹理、颜色''等风格信息

##### 内容损失公式

    内容损失计算的是在特定层$l$ 上，生成图像 $\vec{x}$ 的特征图 $F^l$ 和内容图像 $\vec{p}$ 的特征图 $P^l$ 之间的均方误差。

$$
\mathcal{L}_{\text{内容损失}}(\vec{p}, \vec{x}, l) = \frac{1}{2} \sum_{i,j} (F_{ij}^{l} - P_{ij}^{l})^2
$$

##### 风格损失公式

    在特定层$l$ 上，生成图像矩阵 $G^l$ 和风格图像矩阵 $A^l$ 之间的均方误差，并由一个归一化常数进行缩放。其中，$N_l$ 是第 $l$ 层特征图的通道数，$M_l$ 是该层特征图的高度乘以宽度。

$$
E_l = \frac{1}{4N_l^2 M_l^2} \sum_{i,j} (G_{ij}^{l} - A_{ij}^{l})^2
$$

### Step3 使用MiDaS模型生成深度图

#### 直方图均衡化深度增强

    双三次线性差值 ：能保留更多细节


### Step4 生成usdz 3D文件

#### 整体密度

#### 亮度权重、纹理权重

    灰度图转化

    拉普拉斯算子

    最终权重：亮度x亮度权重+细节x细节权重
